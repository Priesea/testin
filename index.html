<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"> //Aclariaciones
    <title>Formulario</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script>
      function validarFormulario(event) {
        event.preventDefault();

        var requiredFields = document.querySelectorAll("input[required], select[required]");
        var errorContainer = document.getElementById("errorContainer");
        errorContainer.innerHTML = "";

        var isValid = true;

        for (var i = 0; i < requiredFields.length; i++) {
          var field = requiredFields[i];
          var fieldName = field.getAttribute("id");
          var fieldValue = field.value.trim();

          if (fieldValue === "") {
            mostrarError("Por favor, ingresa el campo " + fieldName + ".", field);
            isValid = false;
          } else {
            if (fieldName === "email" && !validarEmail(fieldValue)) {
              mostrarError("Por favor, ingresa un email válido.", field);
              isValid = false;
            }

            if (fieldName === "telefono" && !validarTelefono(fieldValue)) {
              mostrarError("Por favor, ingresa un número de teléfono válido (debe comenzar con 54).", field);
              isValid = false;
            }

            if (fieldName === "celular" && !validarCelular(fieldValue)) {
              mostrarError("Por favor, ingresa un número de celular válido (debe comenzar con 54911).", field);
              isValid = false;
            }
          }
        }

        if (isValid) {
          window.location.href = "index2.html"; 
        }
      }

      function mostrarError(mensaje, campo) {
        var errorContainer = document.getElementById("errorContainer");
        var errorElement = document.createElement("p");
        errorElement.className = "error-message";
        errorElement.textContent = mensaje;

        if (campo) {
          campo.classList.add("error-input");
          campo.addEventListener("input", limpiarError);
        }

        errorContainer.appendChild(errorElement);
      }

      function limpiarError(event) {
        var campo = event.target;
        campo.classList.remove("error-input");
        var errorContainer = document.getElementById("errorContainer");
        errorContainer.innerHTML = "";
      }

      function validarEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      function validarTelefono(telefono) {
        return /^54\d+$/.test(telefono);
      }

      function validarCelular(celular) {
        return /^54911\d+$/.test(celular);
      }
    </script>
  </head>
  <body>
    <form action="index2.html"></form>
    <form onsubmit="validarFormulario(event)">
      <h1>Formulario de Registro</h1>

      <div class="form-row">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required>
      </div>

      <div class="form-row">
        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" required>
      </div>

      <div class="form-row">
        <label for="email">Email:</label>
        <input type="email" id="email" required>
      </div>

      <div class="form-row">
        <label for="fechaNacimiento">Fecha de nacimiento:</label>
        <input type="date" id="fechaNacimiento" required>
      </div>

      <div class="form-row">
        <label for="edad">Edad:</label>
        <input type="text" id="edad" required>
      </div>

      <div class="form-row">
        <label for="nacionalidad">Nacionalidad:</label>
        <input type="text" id="nacionalidad" required>
      </div>

      <div class="form-row">
        <label for="dni">DNI:</label>
        <input type="text" id="dni" required>
      </div>

      <div class="form-row">
        <label for="genero">Género:</label>
        <input type="text" id="genero" required>
      </div>

      <div class="form-row">
        <label for="estadoCivil">Estado Civil:</label>
        <input type="text" id="estadoCivil" required>
      </div>

      <div class="form-row">
        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" required>
      </div>

      <div class="form-row">
        <label for="celular">Celular:</label>
        <input type="text" id="celular" required>
      </div>

      <div class="form-row">
        <label for="direccion">Dirección:</label>
        <input type="text" id="direccion" required>
      </div>

      <div class="form-row">
        <label for="provincia">Provincia:</label>
        <input type="text" id="provincia" required>
      </div>

      <div class="form-row">
        <label for="codigoPostal">Código Postal:</label>
        <input type="text" id="codigoPostal" required>
      </div>

      <div class="form-row">
        <label for="pais">País:</label>
        <input type="text" id="pais" required>
      </div>

      <div class="form-row">
        <label for="nivelEstudio">Nivel de estudio:</label>
        <input type="text" id="nivelEstudio" required>
      </div>

      <div class="form-row">
        <label for="trabajaActualmente">Trabaja actualmente:</label>
        <select id="trabajaActualmente" required>
          <option value="">Selecciona una opción</option>
          <option value="Si">Sí</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-row">
        <label for="buscaTrabajo">Busca trabajo:</label>
        <select id="buscaTrabajo" required>
          <option value="">Selecciona una opción</option>
          <option value="Si">Sí</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-row">
        <input type="submit" value="Enviar">
      </div>

      <div id="errorContainer"></div>
    </form>
  </body>
</html>
