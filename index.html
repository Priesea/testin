<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Formulario</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script>
      function validarFormulario(event) {
        event.preventDefault();

        var requiredFields = document.querySelectorAll("input[required], select[required]");
        var errorContainer = document.getElementById("errorContainer");
        errorContainer.innerHTML = "";

        var isValid = true;

        for (var i = 0; i < requiredFields.length; i++) {
          var field = requiredFields[i];
          var fieldName = field.getAttribute("name");
          var fieldValue = field.value.trim();

          if (fieldValue === "") {
            mostrarError("Por favor, ingresa el campo " + fieldName + ".", field);
            isValid = false;
          } else {
            if (fieldName === "email" && !validarEmail(fieldValue)) {
              mostrarError("Por favor, ingresa un email válido.", field);
              isValid = false;
            }

            if (fieldName === "telefono" && !validarTelefono(fieldValue)) {
              mostrarError("Por favor, ingresa un número de teléfono válido (debe comenzar con 54).", field);
              isValid = false;
            }

            if (fieldName === "celular" && !validarCelular(fieldValue)) {
              mostrarError("Por favor, ingresa un número de celular válido (debe comenzar con 54911).", field);
              isValid = false;
            }
          }
        }

        if (isValid) {
          window.location.href = "index2.html"; 
        }
      }

      function mostrarError(mensaje, campo) {
        var errorContainer = document.getElementById("errorContainer");
        var errorElement = document.createElement("p");
        errorElement.className = "error-message";
        errorElement.textContent = mensaje;

        if (campo) {
          campo.classList.add("error-input");
          campo.addEventListener("input", limpiarError);
        }

        errorContainer.appendChild(errorElement);
      }

      function limpiarError(event) {
        var campo = event.target;
        campo.classList.remove("error-input");
        var errorContainer = document.getElementById("errorContainer");
        errorContainer.innerHTML = "";
      }

      function validarEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      function validarTelefono(telefono) {
        return /^54\d+$/.test(telefono);
      }

      function validarCelular(celular) {
        return /^54911\d+$/.test(celular);
      }
    </script>
  </head>
  <body>
    <form method="post" action="guardar_datos.php">
      <h1>Formulario de Registro</h1>

      <div class="form-row">
        <label for="nombre">Nombre:</label>
        <input type="text" name="nombre" required>
      </div>

      <div class="form-row">
        <label for="apellido">Apellido:</label>
        <input type="text" name="apellido" required>
      </div>

      <div class="form-row">
        <label for="email">Email:</label>
        <input type="email" name="email" required>
      </div>

      <div class="form-row">
        <label for="fechaNacimiento">Fecha de nacimiento:</label>
        <input type="date" name="fechaNacimiento" required>
      </div>

      <div class="form-row">
        <label for="edad">Edad:</label>
        <input type="text" name="edad" required>
      </div>

      <div class="form-row">
        <label for="nacionalidad">Nacionalidad:</label>
        <input type="text" name="nacionalidad" required>
      </div>

      <div class="form-row">
        <label for="dni">DNI:</label>
        <input type="text" name="dni" required>
      </div>

      <div class="form-row">
        <label for="genero">Género:</label>
        <input type="text" name="genero" required>
      </div>

      <div class="form-row">
        <label for="estadoCivil">Estado Civil:</label>
        <input type="text" name="estadoCivil" required>
      </div>

      <div class="form-row">
        <label for="telefono">Teléfono:</label>
        <input type="text" name="telefono" required>
      </div>

      <div class="form-row">
        <label for="celular">Celular:</label>
        <input type="text" name="celular" required>
      </div>

      <div class="form-row">
        <label for="direccion">Dirección:</label>
        <input type="text" name="direccion" required>
      </div>

      <div class="form-row">
        <label for="provincia">Provincia:</label>
        <input type="text" name="provincia" required>
      </div>

      <div class="form-row">
        <label for="codigoPostal">Código Postal:</label>
        <input type="text" name="codigoPostal" required>
      </div>

      <div class="form-row">
        <label for="pais">País:</label>
        <input type="text" name="pais" required>
      </div>

      <div class="form-row">
        <label for="nivelEstudio">Nivel de estudio:</label>
        <input type="text" name="nivelEstudio" required>
      </div>

      <div class="form-row">
        <label for="trabajaActualmente">Trabaja actualmente:</label>
        <select name="trabajaActualmente" required>
          <option value="">Selecciona una opción</option>
          <option value="Si">Sí</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-row">
        <label for="buscaTrabajo">Busca trabajo:</label>
        <select name="buscaTrabajo" required>
          <option value="">Selecciona una opción</option>
          <option value="Si">Sí</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-row">
        <input type="submit" value="Enviar">
      </div>

      <div id="errorContainer"></div>
    </form>
  </body>
</html>

